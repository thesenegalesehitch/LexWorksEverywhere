# LexWorksEverywhere User Guide

LexWorksEverywhere is a cross-platform development environment manager that allows you to run any software project on any operating system without manual configuration. This guide explains how to use LexWorksEverywhere effectively.

## Installation

LexWorksEverywhere is a Python package that can be installed using pip:

```bash
pip install lexworkseverywhere
```

Alternatively, you can install it directly from source:

```bash
git clone https://github.com/lexworkseverywhere/lexworkseverywhere.git
cd lexworkseverywhere
pip install -e .
```

## Quick Start

To get started with LexWorksEverywhere, follow these simple steps:

1. Navigate to your project directory
2. Run `lexworks run` to execute your project in a managed environment

```bash
cd /path/to/your/project
lexworks run
```

LexWorksEverywhere will automatically detect your project type, set up the necessary environment, and run your project.

## Commands

LexWorksEverywhere provides several commands to manage your development environment:

### `lexworks scan`

Analyze a project to detect its type, dependencies, and structure:

```bash
lexworks scan [PROJECT_PATH]
```

This command scans the specified project directory (or current directory if not specified) and outputs information about the project including:
- Project type (Python, Node.js, Java, etc.)
- Entrypoint file
- Dependencies
- Build scripts
- Configuration files

### `lexworks capture`

Capture the current environment configuration:

```bash
lexworks capture
```

This command profiles the current system environment and saves the information to `.lexworkseverywhere.json`. This file can be used to reproduce the environment on other systems.

### `lexworks run`

Run a project in a managed environment:

```bash
lexworks run [PROJECT_PATH]
```

This command:
1. Scans the project
2. Sets up the appropriate runtime environment
3. Installs necessary dependencies
4. Executes the project

Optional flags:
- `--entrypoint FILE`: Specify the entrypoint file to execute
- `--args ARGS`: Pass additional arguments to the entrypoint
- `--setup-only`: Only set up the environment, don't run the project

### `lexworks doctor`

Check system prerequisites and overall host health:

```bash
lexworks doctor
```

This command analyzes your system to ensure it is ready to use LexWorksEverywhere.

## Cross-Platform Features

LexWorksEverywhere handles many cross-platform differences automatically:

### Path Conversion

LexWorksEverywhere automatically converts paths between Windows and Unix formats:
- Windows-style paths (`C:\Users\name`) are converted to Unix-style (`/c/Users/name`) when needed
- Unix-style paths (`/home/user`) are converted to Windows-style when needed

### Script Conversion

Shell scripts are automatically adapted for the target platform:
- Unix shell scripts (`.sh`) are converted for Windows Command Prompt or PowerShell
- Windows batch files (`.bat`, `.cmd`) are converted for Unix shells

### Package Manager Mapping

LexWorksEverywhere maps package manager commands across platforms:
- `npm install` on Unix becomes `npm install` on Windows
- `apt install` on Linux becomes `brew install` on macOS
- `winget install` on Windows for appropriate packages

### Environment Variable Normalization

Environment variables are normalized across platforms:
- PATH separators are converted (`:` on Unix, `;` on Windows)
- Case sensitivity differences are handled appropriately

## Configuration

LexWorksEverywhere uses `.lexworkseverywhere.json` files to store environment configurations. These files are generated by the `capture` command and contain:

- System information (OS, architecture, etc.)
- Installed runtimes and versions
- Hardware specifications
- Environment variables
- Network configuration
- File system characteristics

You can include `.lexworkseverywhere.json` files in your project repository to ensure consistent environments across team members.

## Troubleshooting

### Common Issues

1. **Runtime not found**: LexWorksEverywhere will attempt to install missing runtimes automatically. If this fails, install the required runtime manually.

2. **Permission errors**: On Unix systems, ensure you have appropriate permissions for the project directory and dependencies.

3. **Path issues**: If you encounter path-related errors, try running `lexworkseverywhere diagnose` to identify and fix the issue.

### Getting Help

For additional help, use the `--help` flag with any LexWorksEverywhere command:

```bash
lexworks --help
lexworks run --help
lexworks doctor --help
```

## Best Practices

1. **Version Control**: Commit `.lexworkseverywhere.json` files to your repository to ensure consistent environments across your team.

2. **Regular Testing**: Use `lexworkseverywhere test` regularly to validate environment compatibility.

3. **Diagnose Issues**: Run `lexworks doctor` when encountering environment-related problems.

4. **Update Regularly**: Keep LexWorksEverywhere updated to benefit from the latest cross-platform compatibility improvements.

## Support

For support, please check the LexWorksEverywhere documentation or create an issue in the GitHub repository. Include the output of `lexworks doctor` when reporting environment-specific issues.
